HTML
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jr. Connections Puzzle</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom font and basic centering */
        body {
            font-family: 'Inter', sans-serif;
            /* Blue background matching the logo color */
            background-color: #6495ED; /* Cornflower Blue */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }
        /* Style for the game tiles (big and colorful) */
        .tile {
            height: 90px;
            font-size: 1.35rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            border: 2px solid rgba(0, 0, 0, 0.1); 
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); 
            color: #1f2937; 
        }
        
        /* CHECKERBOARD COLORS MATCHING THE LOGO DESIGN */
        /* Dark Square (Sienna Brown: #a0522d) */
        .tile-dark {
            background-color: #a0522d; 
            color: white; 
        }
        /* Light Square (Near White: #f7f7f7) */
        .tile-light {
            background-color: #f7f7f7; 
        }

        /* Selected tile style */
        .tile-selected {
            background-color: #06b6d4 !important; 
            color: white !important;
            transform: scale(1.03);
            border-color: #fcd34d !important; 
        }
        
        /* Solved group colors */
        .group-1 { background-color: #34d399 !important; color: #1f2937 !important; } 
        .group-2 { background-color: #facc15 !important; color: #1f2937 !important; } 
        .group-3 { background-color: #f87171 !important; color: white !important; } 
        .group-4 { background-color: #60a5fa !important; color: white !important; } 

        /* Animation for a wrong guess */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20%, 60% { transform: translateX(-8px); }
            40%, 80% { transform: translateX(8px); }
        }
        .shake-animation {
            animation: shake 0.5s ease-in-out;
        }
    </style>
</head>
<body>

    <div id="master-container" class="w-full max-w-xl">

        <div id="home-screen" class="bg-white p-8 rounded-3xl shadow-2xl border-b-8 border-gray-300 text-center">
            
            <div class="mb-8 p-3" style="border: 2px solid #a0522d; border-radius: 8px; display: inline-block;">
                <h1 class="text-6xl font-extrabold" style="line-height: 1.05;">
                    <span style="color: #A0522D;">JR.</span> 
                    <span style="color: #6495ED;">CONNECTIONS</span>
                </h1>
                <p class="text-sm font-medium text-gray-600 mt-1">THE PUZZLE</p>
            </div>
            
            <button id="start-game-button" onclick="showView('game-screen')"
                class="w-full mb-6 px-8 py-4 bg-green-500 text-white font-extrabold text-2xl rounded-xl shadow-xl hover:bg-green-600 transition-transform transform hover:scale-105">
                START TODAY'S PUZZLE
            </button>

            <button id="instructions-button" onclick="toggleInstructions()"
                class="w-full mb-4 px-8 py-3 bg-yellow-500 text-white font-bold text-lg rounded-xl shadow-md hover:bg-yellow-600 transition-colors">
                How to Play ‚ñº
            </button>

            <div id="instructions-section" class="text-left p-4 bg-gray-50 rounded-lg hidden">
                <h3 class="text-2xl font-bold text-gray-700 mb-2">The Rules are Simple!</h3>
                <ul class="list-disc list-inside space-y-2 text-base text-gray-600">
                    <li>Find <strong>4 words</strong> that belong to the same group or category.</li>
                    <li>Click on the 4 words, then hit the <strong>Guess</strong> button.</li>
                    <li>If you're right, the words disappear and the category is revealed!</li>
                    <li>You only get <strong>4 Mistakes</strong> (lives). Run out of mistakes and the game is over!</li>
                    <li>A new puzzle appears every day!</li>
                </ul>
            </div>
            
        </div>


        <div id="game-screen" class="hidden bg-white p-6 rounded-3xl shadow-2xl border-b-8 border-gray-300">
            <h1 class="text-4xl font-extrabold text-center text-gray-700 mb-2">Jr. Connections Puzzle</h1>
            <p class="text-center text-sm text-gray-500 mb-6">Today's Puzzle: <span id="puzzle-date"></span></p>

            <div class="flex justify-between items-center mb-6 p-4 bg-gray-100 rounded-xl shadow-inner border-l-4 border-gray-400">
                <div class="text-xl font-semibold text-gray-700 flex items-center">
                    Mistakes: <span id="lives-display" class="text-red-500 font-bold ml-2">4</span>
                </div>
                <div id="message-display" class="text-lg font-medium text-gray-600 transition-opacity duration-300">
                    Pick 4 words that match!
                </div>
            </div>

            <div id="game-grid" class="grid grid-cols-4 gap-3 mb-6">
                </div>

            <div class="flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4">
                <button id="submit-button" onclick="submitGuess()"
                    class="flex-1 px-8 py-4 bg-green-500 text-white font-extrabold text-lg rounded-xl shadow-xl hover:bg-green-600 transition-transform transform hover:scale-105 disabled:bg-gray-400 disabled:cursor-not-allowed">
                    Guess
                </button>
                <button id="deselect-button" onclick="deselectAll()"
                    class="flex-1 px-8 py-4 bg-yellow-500 text-white font-extrabold text-lg rounded-xl shadow-xl hover:bg-yellow-600 transition-transform transform hover:scale-105">
                    Clear Selection
                </button>
            </div>
            
            <div class="mt-4 text-center">
                <button onclick="showView('home-screen')" class="text-gray-500 hover:text-gray-700 text-sm font-semibold transition-colors">
                    ‚Üê Back to Menu
                </button>
            </div>
        </div>
    </div>


    <div id="modal" class="fixed inset-0 bg-gray-900 bg-opacity-80 flex items-center justify-center p-4 z-50 hidden">
        <div class="bg-white p-8 rounded-2xl shadow-2xl text-center max-w-sm w-full border-t-8 border-gray-600 transform scale-0 transition-transform duration-300" id="modal-content">
            <h2 id="modal-title" class="text-3xl font-extrabold text-gray-700 mb-4"></h2>
            <div id="modal-message"></div>
            <button onclick="closeModalAndGoHome()"
                class="w-full mt-6 px-6 py-3 bg-gray-500 text-white font-bold rounded-xl shadow-md hover:bg-gray-600 transition-colors">
                Done for Today! (Go to Menu)
            </button>
        </div>
    </div>

    <script>
        // --- Game Data (Mocking your continuous SQL list) ---
        const ALL_PUZZLES = [
            // Puzzle 1
            [
             { name: "Things That Fly", words: ["BIRD", "PLANE", "KITE", "BEE"], groupClass: "group-1" },
             { name: "In the Kitchen", words: ["SPOON", "FORK", "PLATE", "CUP"], groupClass: "group-2" },
             { name: "Colors of the Rainbow", words: ["RED", "BLUE", "GREEN", "YELLOW"], groupClass: "group-3" },
             { name: "School Supplies", words: ["PENCIL", "BOOK", "GLUE", "CRAYON"], groupClass: "group-4" }
            ],
            // Puzzle 2 (Example from the chess board image)
            [
             { name: "Chess Pieces", words: ["KNIGHT", "PAWN", "BISHOP", "CASTLE"], groupClass: "group-1" },
             { name: "Places to Sleep", words: ["BED", "NAP", "SLEEP", "DREAM"], groupClass: "group-2" },
             { name: "Bathroom Items", words: ["SHOWER", "SINK", "TOILET", "BATHTUB"], groupClass: "group-3" },
             { name: "Sports", words: ["SOCCER", "HOCKEY", "SWIM", "RUGBY"], groupClass: "group-4" }
            ],

            // You can add hundreds of more puzzles here!
        ];

        // --- Game State Variables (Unchanged) ---
        let allWords = [];
        let selectedWords = [];
        let solvedGroups = [];
        let lives = 4;
        let isGameOver = false;
        let currentPuzzle = [];
        let startTime = 0; 

        // --- DOM Elements (Unchanged) ---
        const HOME_SCREEN = document.getElementById('home-screen');
        const GAME_SCREEN = document.getElementById('game-screen');
        const INSTRUCTIONS_SECTION = document.getElementById('instructions-section');
        const INSTRUCTIONS_BUTTON = document.getElementById('instructions-button');

        const GRID = document.getElementById('game-grid');
        const LIVES_DISPLAY = document.getElementById('lives-display');
        const MESSAGE_DISPLAY = document.getElementById('message-display');
        const SUBMIT_BUTTON = document.getElementById('submit-button');
        const MODAL = document.getElementById('modal');
        const MODAL_CONTENT = document.getElementById('modal-content');
        const MODAL_TITLE = document.getElementById('modal-title');
        const MODAL_MESSAGE = document.getElementById('modal-message');
        const PUZZLE_DATE_DISPLAY = document.getElementById('puzzle-date');

        // --- View Management Functions (Unchanged) ---
        function showView(viewId) {
            HOME_SCREEN.classList.add('hidden');
            GAME_SCREEN.classList.add('hidden');

            if (viewId === 'home-screen') {
                HOME_SCREEN.classList.remove('hidden');
            } else if (viewId === 'game-screen') {
                GAME_SCREEN.classList.remove('hidden');
                setupGame(); 
            }
        }

        function toggleInstructions() {
            const isHidden = INSTRUCTIONS_SECTION.classList.contains('hidden');
            if (isHidden) {
                INSTRUCTIONS_SECTION.classList.remove('hidden');
                INSTRUCTIONS_BUTTON.textContent = 'Hide Instructions ‚ñ≤';
            } else {
                INSTRUCTIONS_SECTION.classList.add('hidden');
                INSTRUCTIONS_BUTTON.textContent = 'How to Play ‚ñº';
            }
        }

        // --- Utility Function: Get Daily Puzzle (Unchanged) ---
        function getDailyPuzzle() {
            const START_DATE = new Date('2024-01-01');
            const now = new Date();
            const timeDifference = now.getTime() - START_DATE.getTime();
            const dayIndex = Math.floor(timeDifference / (1000 * 3600 * 24)); 

            const puzzleIndex = dayIndex % ALL_PUZZLES.length;

            currentPuzzle = ALL_PUZZLES[puzzleIndex];
            PUZZLE_DATE_DISPLAY.textContent = now.toDateString();

            let wordsToShuffle = [];
            currentPuzzle.forEach(category => {
                wordsToShuffle.push(...category.words);
            });
            shuffleArray(wordsToShuffle);
            allWords = wordsToShuffle;
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function formatTime(totalSeconds) {
            const minutes = Math.floor(totalSeconds / 60);
            const seconds = totalSeconds % 60;
            return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
        }

        function setupGame() {
            getDailyPuzzle();

            selectedWords = [];
            solvedGroups = [];
            lives = 4;
            isGameOver = false;
            startTime = Date.now(); 

            LIVES_DISPLAY.textContent = lives;
            MESSAGE_DISPLAY.textContent = "Click 4 words that match!";
            MESSAGE_DISPLAY.classList.remove('text-green-600', 'text-red-500');
            MESSAGE_DISPLAY.classList.add('text-gray-600');
            GRID.innerHTML = '';
            SUBMIT_BUTTON.disabled = true;
            MODAL.classList.add('hidden');
            MODAL_CONTENT.classList.remove('scale-100'); 

            renderGrid();
        }

        // --- Render the Tiles with Chessboard Class ---
        function renderGrid() {
            GRID.innerHTML = ''; 
            allWords.forEach((word, index) => {
                const tile = document.createElement('div');
                
                const rowIndex = Math.floor(index / 4);
                
                const isLightSquare = (rowIndex + (index % 4)) % 2 === 0;

                const colorClass = isLightSquare ? 'tile-light' : 'tile-dark';
                
                tile.className = 'tile flex items-center justify-center rounded-sm uppercase p-2 ' + colorClass; 
                tile.textContent = word;
                tile.setAttribute('data-word', word);
                tile.onclick = () => selectTile(word, tile);
                GRID.appendChild(tile);
            });
        }

        // --- Select/Deselect a Tile (Simplified classes) ---
        function selectTile(word, element) {
            if (isGameOver || solvedGroups.some(g => g.words.includes(word))) return;

            const isSelected = selectedWords.includes(word);
            
            const originalColorClass = (Math.floor(allWords.indexOf(word) / 4) + (allWords.indexOf(word) % 4)) % 2 === 0 ? 'tile-light' : 'tile-dark';

            if (isSelected) {
                // Deselect the word
                selectedWords = selectedWords.filter(w => w !== word);
                element.classList.remove('tile-selected');
                element.classList.remove('!text-white', '!border-yellow-300'); // Clean up selected styles
                
                // Restore original color class
                element.classList.remove('tile-dark', 'tile-light');
                element.classList.add(originalColorClass);

            } else if (selectedWords.length < 4) {
                // Select the word
                selectedWords.push(word);
                element.classList.add('tile-selected');
                
                // Ensure text is white and border is yellow on selection
                element.classList.add('!text-white', '!border-yellow-300'); 
            }

            // Enable/disable submit button
            SUBMIT_BUTTON.disabled = selectedWords.length !== 4;
            MESSAGE_DISPLAY.textContent = selectedWords.length < 4 ? `Need ${4 - selectedWords.length} more words!` : "Ready to Guess!";
            MESSAGE_DISPLAY.classList.add('text-gray-600');
            MESSAGE_DISPLAY.classList.remove('text-green-600', 'text-red-500');
        }

        // --- Deselect All Tiles (Simplified classes) ---
        function deselectAll() {
            selectedWords = [];
            document.querySelectorAll('.tile').forEach(tile => {
                const word = tile.getAttribute('data-word');
                if (!solvedGroups.some(g => g.words.includes(word))) {
                    tile.classList.remove('tile-selected');
                    tile.classList.remove('!text-white', '!border-yellow-300');
                    
                    // Restore original color class
                    const wordIndexInAllWords = allWords.indexOf(word);
                    const originalColorClass = (Math.floor(wordIndexInAllWords / 4) + (wordIndexInAllWords % 4)) % 2 === 0 ? 'tile-light' : 'tile-dark';
                    
                    tile.classList.remove('tile-dark', 'tile-light');
                    tile.classList.add(originalColorClass);
                }
            });
            SUBMIT_BUTTON.disabled = true;
            MESSAGE_DISPLAY.textContent = "Click 4 words that match!";
            MESSAGE_DISPLAY.classList.add('text-gray-600');
            MESSAGE_DISPLAY.classList.remove('text-green-600', 'text-red-500');
        }

        // --- Game Logic Functions (Unchanged) ---
        function submitGuess() {
            if (isGameOver || selectedWords.length !== 4) return;

            const sortedSelected = [...selectedWords].sort().join(',');

            let isCorrect = false;
            let correctGroup = null;

            for (const group of currentPuzzle) {
                if (!solvedGroups.includes(group)) {
                    const sortedGroup = [...group.words].sort().join(',');
                    if (sortedSelected === sortedGroup) {
                        isCorrect = true;
                        correctGroup = group;
                        break;
                    }
                }
            }

            if (isCorrect) {
                handleCorrectGuess(correctGroup);
            } else {
                handleIncorrectGuess();
            }

            checkGameEnd();
        }

        // --- Handle Correct Guess ---
        function handleCorrectGuess(group) {
            solvedGroups.push(group);
            MESSAGE_DISPLAY.textContent = `‚≠ê Solved: ${group.name}! Great job!`;
            MESSAGE_DISPLAY.classList.add('text-green-600');
            MESSAGE_DISPLAY.classList.remove('text-gray-600', 'text-red-500'); 

            document.querySelectorAll('.tile').forEach(tile => {
                const word = tile.getAttribute('data-word');
                if (group.words.includes(word)) {
                    // Remove selection/default classes and add solved group class
                    tile.classList.remove('tile-selected', 'tile-light', 'tile-dark');
                    tile.classList.remove('!text-white', '!border-yellow-300'); // Clean up selected styles
                    
                    tile.classList.add(group.groupClass, 'cursor-default');
                    tile.onclick = null; // Disable clicking on solved tiles
                }
            });

            allWords = allWords.filter(word => !group.words.includes(word));
            selectedWords = []; 
            SUBMIT_BUTTON.disabled = true;

            reorderGrid();
        }

        function handleIncorrectGuess() {
            lives--;
            LIVES_DISPLAY.textContent = lives;
            MESSAGE_DISPLAY.textContent = "‚ùå Try again! That's not a group.";
            MESSAGE_DISPLAY.classList.add('text-red-500');
            MESSAGE_DISPLAY.classList.remove('text-green-600', 'text-gray-600'); 

            document.querySelectorAll('.tile-selected').forEach(tile => {
                tile.classList.add('shake-animation');
                setTimeout(() => {
                    tile.classList.remove('shake-animation');
                }, 500);
            });

            setTimeout(deselectAll, 1000);
        }

        // --- Reorder the Grid ---
        function reorderGrid() {
            const solvedTiles = [];
            const remainingTiles = [];

            solvedGroups.forEach(group => {
                group.words.forEach(word => {
                    const tile = document.querySelector(`.tile[data-word="${word}"]`);
                    if (tile) solvedTiles.push(tile);
                });
            });

            const remainingWordsMap = new Map(); 
            allWords.forEach(word => {
                 const tile = document.querySelector(`.tile[data-word="${word}"]`);
                 if (tile) remainingWordsMap.set(word, tile);
            });

            GRID.innerHTML = ''; 
            
            // 3. Append solved tiles first
            solvedTiles.forEach(tile => GRID.appendChild(tile));
            
            // 4. Append remaining tiles, re-applying chessboard classes based on the new total index
            let currentTileIndex = solvedTiles.length;
            
            allWords.forEach(word => {
                const tile = remainingWordsMap.get(word);
                if (tile) {
                    const rowIndex = Math.floor(currentTileIndex / 4);
                    const isLightSquare = (rowIndex + (currentTileIndex % 4)) % 2 === 0;

                    const newColorClass = isLightSquare ? 'tile-light' : 'tile-dark';
                    
                    // Remove old color classes and apply new one
                    tile.classList.remove('tile-light', 'tile-dark');
                    tile.classList.add(newColorClass);
                    
                    GRID.appendChild(tile);
                    currentTileIndex++;
                }
            });

            GRID.style.gridTemplateRows = `repeat(${4}, minmax(0, 1fr))`;
        }

        function checkGameEnd() {
            if (solvedGroups.length === 4) {
                isGameOver = true;
                const endTime = Date.now();
                const durationSeconds = Math.floor((endTime - startTime) / 1000);
                const mistakesMade = 4 - lives;
                showModal("üéâ You Won!", durationSeconds, mistakesMade);
            } else if (lives <= 0) {
                isGameOver = true;
                const remainingGroups = currentPuzzle.filter(group => !solvedGroups.includes(group));
                let message = "Oops, you ran out of tries! The remaining groups were: ";
                
                remainingGroups.forEach(group => {
                    message += `<div class="mt-4 p-3 rounded-xl text-center shadow-md ${group.groupClass}">
                                    <div class="text-sm font-semibold">${group.name.toUpperCase()}</div>
                                    <div class="text-xs font-medium opacity-80">${group.words.join(', ')}</div>
                                </div>`;
                });
                
                if (remainingGroups.length === 0) {
                    message = "Something went wrong (No remaining group found).";
                }
                
                showModal("Game Over!", message, null);
            }
        }

        function showModal(title, messageOrDuration, mistakesMade) {
            MODAL_TITLE.innerHTML = title;
            MODAL_MESSAGE.innerHTML = ''; 

            if (title.includes("Won") && mistakesMade !== null) {
                const durationSeconds = messageOrDuration; 
                const mistakes = mistakesMade;

                const statsHtml = `
                    <div class="mb-6 flex justify-around items-center text-center">
                        <div class="p-3 bg-red-100 rounded-lg shadow-md w-1/2 mx-1">
                            <div class="text-2xl font-extrabold text-red-700">${mistakes}</div>
                            <div class="text-xs text-gray-500 font-semibold">Mistakes</div>
                        </div>
                        <div class="p-3 bg-gray-100 rounded-lg shadow-md w-1/2 mx-1">
                            <div class="text-2xl font-extrabold text-gray-700">${formatTime(durationSeconds)}</div>
                            <div class="text-xs text-gray-500 font-semibold">Time Taken</div>
                        </div>
                    </div>
                    <h3 class="text-xl font-bold text-gray-700 mb-3 border-b pb-2">Your Solved Groups:</h3>
                `;
                MODAL_MESSAGE.insertAdjacentHTML('beforeend', statsHtml);

                solvedGroups.forEach(group => {
                    const groupHtml = `
                        <div class="p-3 mb-2 rounded-xl text-center shadow-md ${group.groupClass}">
                            <div class="text-sm font-semibold">${group.name.toUpperCase()}</div>
                            <div class="text-xs font-medium opacity-80">${group.words.join(', ')}</div>
                        </div>
                    `;
                    MODAL_MESSAGE.insertAdjacentHTML('beforeend', groupHtml);
                });


            } else {
                MODAL_MESSAGE.innerHTML = `<p class="text-lg text-gray-600 mb-6">${messageOrDuration}</p>`;
            }

            MODAL.classList.remove('hidden');
            setTimeout(() => MODAL_CONTENT.classList.add('scale-100'), 10);
        }
        
        function closeModalAndGoHome() {
            MODAL.classList.add('hidden');
            MODAL_CONTENT.classList.remove('scale-100');
            showView('home-screen'); 
        }

        window.onload = function() {
            showView('home-screen');
        };

    </script>
</body>
</html>
